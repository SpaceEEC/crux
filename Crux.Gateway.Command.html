<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.19.1">
    <title>Crux.Gateway.Command – Crux vdev</title>
    <link rel="stylesheet" href="dist/app-240d7fc7e5.css" />
    <script src="dist/sidebar_items-3d543ca6b1.js"></script>
    
  </head>
  <body data-type="modules">
    <script>try { if(localStorage.getItem('night-mode')) document.body.className += ' night-mode'; } catch (e) { }</script>
    <div class="main">
<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" aria-hidden="true"></span>
  <span class="sr-only">Toggle Sidebar</span>
</button>
<button class="sidebar-button night-mode-toggle">
  <span class="icon-theme" aria-hidden="true"></span>
  <span class="sr-only">Toggle Theme</span>
</button>
<section class="sidebar">

  <a href="https://github.com/SpaceEEC/crux/" class="sidebar-projectLink">
    <div class="sidebar-projectDetails">
      <h1 class="sidebar-projectName">
Crux      </h1>
      <h2 class="sidebar-projectVersion">
        vdev
      </h2>
    </div>
  </a>

  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
    <input name="q" type="text" id="search-list" class="search-input" placeholder="Search" aria-label="Search" autocomplete="off" />
  </form>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

      <li><a id="modules-list" href="#full-list">Modules</a></li>

      <li><a id="exceptions-list" href="#full-list">Exceptions</a></li>

      <li><a id="tasks-list" href="#full-list">Mix Tasks</a></li>
  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">


      <h1>
        <small class="visible-xs">Crux vdev</small>
Crux.Gateway.Command        
          <a href="https://github.com/SpaceEEC/crux_gateway/blob/master/lib/gateway/command.ex#L1" title="View Source" class="view-source" rel="help">
            <span class="icon-code" aria-hidden="true"></span>
            <span class="sr-only">View Source</span>
          </a>
      </h1>


        <section id="moduledoc">
<p>Builds <a href="https://discordapp.com/developers/docs/topics/gateway#commands-and-events-gateway-commands">Gateway Commands</a>.<br/>Note: Only the sent ones can be found here.</p>
<p>A list of available op codes:</p>
<table>
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th style="text-align: left">OP Code</th><th style="text-align: left">Name</th><th style="text-align: left"></th>
</tr>
</thead>
<tr>
<td style="text-align: left">0</td><td style="text-align: left">dispatch</td><td style="text-align: left">received only</td>
</tr>
<tr>
<td style="text-align: left">1</td><td style="text-align: left">heartbeat</td><td style="text-align: left">two way</td>
</tr>
<tr>
<td style="text-align: left">2</td><td style="text-align: left">identify</td><td style="text-align: left">sent only</td>
</tr>
<tr>
<td style="text-align: left">3</td><td style="text-align: left">status_update</td><td style="text-align: left">sent only</td>
</tr>
<tr>
<td style="text-align: left">4</td><td style="text-align: left">voice_state_update</td><td style="text-align: left">sent only</td>
</tr>
<tr>
<td style="text-align: left">5</td><td style="text-align: left">voice_guild_ping</td><td style="text-align: left">sent only</td>
</tr>
<tr>
<td style="text-align: left">6</td><td style="text-align: left">resume</td><td style="text-align: left">sent only</td>
</tr>
<tr>
<td style="text-align: left">7</td><td style="text-align: left">reconnect</td><td style="text-align: left">received only</td>
</tr>
<tr>
<td style="text-align: left">8</td><td style="text-align: left">request_guild_members</td><td style="text-align: left">sent only</td>
</tr>
<tr>
<td style="text-align: left">9</td><td style="text-align: left">invalid_session</td><td style="text-align: left">received only</td>
</tr>
<tr>
<td style="text-align: left">10</td><td style="text-align: left">hello</td><td style="text-align: left">received only</td>
</tr>
<tr>
<td style="text-align: left">11</td><td style="text-align: left">heartbeat_ack</td><td style="text-align: left">received only</td>
</tr>
</table>
<p><a href="https://s.gus.host/flowchart.svg">Gateway Lifecycle Flowchart</a></p>
        </section>

        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>
  <div class="summary-types summary">
    <h2>
      <a href="#types">Types</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:activity/0">activity()</a>
  </div>
    <div class="summary-synopsis"><p>Used to set an activity via <a href="#status_update/2"><code class="inline">status_update/2</code></a></p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:gateway_command/0">gateway_command()</a>
  </div>
    <div class="summary-synopsis"><p>Encoded command ready to be sent to the gateway via <a href="Crux.Gateway.Connection.html#send_command/2"><code class="inline">Crux.Gateway.Connection.send_command/2</code></a></p>
</div>
</div>
  </div>
  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#heartbeat/1">heartbeat(sequence)</a>
  </div>
    <div class="summary-synopsis"><p>Builds a <a href="https://discordapp.com/developers/docs/topics/gateway#heartbeat">Heartbeat</a> command</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#identify/1">identify(map)</a>
  </div>
    <div class="summary-synopsis"><p>Builds an <a href="https://discordapp.com/developers/docs/topics/gateway#identify">Identify</a> command</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#request_guild_members/2">request_guild_members(guild_id, opts \\ [])</a>
  </div>
    <div class="summary-synopsis"><p>Builds a <a href="https://discordapp.com/developers/docs/topics/gateway#request-guild-members">Request Guild Members</a> command</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#resume/1">resume(map)</a>
  </div>
    <div class="summary-synopsis"><p>Builds a <a href="https://discordapp.com/developers/docs/topics/gateway#resume">Resume</a> command</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#status_update/2">status_update(status, game \\ nil)</a>
  </div>
    <div class="summary-synopsis"><p>Builds a <a href="https://discordapp.com/developers/docs/topics/gateway#update-status">Status Update</a> command</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#voice_state_update/3">voice_state_update(guild_id, channel_id \\ nil, states \\ [])</a>
  </div>
    <div class="summary-synopsis"><p>Builds a <a href="https://discordapp.com/developers/docs/topics/gateway#voice-state-update">Voice State Update</a> command</p>
</div>
</div>
  </div>
        </section>

        <section id="types" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#types">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Types          </h1>
          <div class="types-list">
<div class="detail" id="t:activity/0">
    <div class="detail-header">
    <a href="#t:activity/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <span class="signature">activity()</span>
      <a href="https://github.com/SpaceEEC/crux_gateway/blob/master/lib/gateway/command.ex#L107" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>activity() :: %{
  :name => <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(),
  :type => <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>(),
  optional(:url) => <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()
}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Used to set an activity via <a href="#status_update/2"><code class="inline">status_update/2</code></a>.</p>
<p><code class="inline">:type</code> must be a valid <a href="https://discordapp.com/developers/docs/topics/gateway#activity-object-activity-types">Activity Type</a></p>
<blockquote><p>Note that streaming requires a twitch url pointing to a possible channel!</p>
</blockquote>
  </section>
</div>
<div class="detail" id="t:gateway_command/0">
    <div class="detail-header">
    <a href="#t:gateway_command/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <span class="signature">gateway_command()</span>
      <a href="https://github.com/SpaceEEC/crux_gateway/blob/master/lib/gateway/command.ex#L33" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>gateway_command() :: {:binary, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">binary</a>()}</pre>
      </div>
  </div>
  <section class="docstring">
<p>  Encoded command ready to be sent to the gateway via <a href="Crux.Gateway.Connection.html#send_command/2"><code class="inline">Crux.Gateway.Connection.send_command/2</code></a>.</p>
<p>  If you want to build custom commands,<br/>  pass <a href="http://www.erlang.org/doc/man/erlang.html#term_to_binary-1"><code class="inline">:erlang.term_to_binary/1</code></a> a map with the keys <code class="inline">op</code> and <code class="inline">d</code>,<br/>  and wrap it in a tuple with <code class="inline">:binary</code> as first element.</p>
  </section>
</div>
          </div>
        </section>
        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions          </h1>
          <div class="functions-list">
<div class="detail" id="heartbeat/1">
    <div class="detail-header">
    <a href="#heartbeat/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">heartbeat(sequence)</span>
      <a href="https://github.com/SpaceEEC/crux_gateway/blob/master/lib/gateway/command.ex#L41" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>heartbeat(sequence :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">integer</a>()) :: <a href="#t:gateway_command/0">gateway_command</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>Builds a <a href="https://discordapp.com/developers/docs/topics/gateway#heartbeat">Heartbeat</a> command.</p>
<p>Used to signalize the server that the client is still alive and able to receive messages.</p>
  </section>
</div>
<div class="detail" id="identify/1">
    <div class="detail-header">
    <a href="#identify/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">identify(map)</span>
      <a href="https://github.com/SpaceEEC/crux_gateway/blob/master/lib/gateway/command.ex#L56" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>identify(
  data :: %{
    shard_id: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>(),
    shard_count: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>(),
    token: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()
  }
) :: <a href="#t:gateway_command/0">gateway_command</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>  Builds an <a href="https://discordapp.com/developers/docs/topics/gateway#identify">Identify</a> command.</p>
<p>  Used to identify the gateway connection and “log in”.</p>
  </section>
</div>
<div class="detail" id="request_guild_members/2">
  
    <span id="request_guild_members/1"></span>
  <div class="detail-header">
    <a href="#request_guild_members/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">request_guild_members(guild_id, opts \\ [])</span>
      <a href="https://github.com/SpaceEEC/crux_gateway/blob/master/lib/gateway/command.ex#L141" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>request_guild_members(
  guild_id :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">pos_integer</a>(),
  opts :: [query: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), limit: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">pos_integer</a>()]
) :: <a href="#t:gateway_command/0">gateway_command</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>Builds a <a href="https://discordapp.com/developers/docs/topics/gateway#request-guild-members">Request Guild Members</a> command.</p>
<p>Used to request guild member for a specific guild.</p>
<blockquote><p>Note: This must be sent to the connection handling the guild, not just any connection.</p>
</blockquote>
<p>The gateway will respond with <code class="inline">:GUILD_MEMBER_CHUNK</code> (a) packet(s).</p>
  </section>
</div>
<div class="detail" id="resume/1">
    <div class="detail-header">
    <a href="#resume/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">resume(map)</span>
      <a href="https://github.com/SpaceEEC/crux_gateway/blob/master/lib/gateway/command.ex#L157" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>resume(
  data :: %{seq: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>(), token: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), session: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()}
) :: <a href="#t:gateway_command/0">gateway_command</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>Builds a <a href="https://discordapp.com/developers/docs/topics/gateway#resume">Resume</a> command.</p>
<p>Used to resume into a session which was unexpectly disconnected and may be resumable.</p>
  </section>
</div>
<div class="detail" id="status_update/2">
  
    <span id="status_update/1"></span>
  <div class="detail-header">
    <a href="#status_update/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">status_update(status, game \\ nil)</span>
      <a href="https://github.com/SpaceEEC/crux_gateway/blob/master/lib/gateway/command.ex#L119" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>status_update(status :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), game :: <a href="#t:activity/0">activity</a>()) :: <a href="#t:gateway_command/0">gateway_command</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>  Builds a <a href="https://discordapp.com/developers/docs/topics/gateway#update-status">Status Update</a> command.</p>
<p>  Used to update the status of the client, including activity.</p>
  </section>
</div>
<div class="detail" id="voice_state_update/3">
  
    <span id="voice_state_update/1"></span>

    <span id="voice_state_update/2"></span>
  <div class="detail-header">
    <a href="#voice_state_update/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">voice_state_update(guild_id, channel_id \\ nil, states \\ [])</span>
      <a href="https://github.com/SpaceEEC/crux_gateway/blob/master/lib/gateway/command.ex#L91" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>voice_state_update(
  guild_id :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">pos_integer</a>(),
  channel_id :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">pos_integer</a>() | nil,
  states :: [self_mute: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>(), self_deaf: <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">boolean</a>()]
) :: <a href="#t:gateway_command/0">gateway_command</a>()</pre>
      </div>
  </div>
  <section class="docstring">
<p>Builds a <a href="https://discordapp.com/developers/docs/topics/gateway#voice-state-update">Voice State Update</a> command.</p>
<p>Used to join, switch between, and leave voice channels.</p>
  </section>
</div>
          </div>
        </section>
          <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.19.1),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
            </span>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>
  <script src="dist/app-3f669e16ee.js"></script>
  
  </body>
</html>

